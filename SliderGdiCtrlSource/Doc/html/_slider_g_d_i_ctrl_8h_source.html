<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SliderGdiCtrlLib: C:/VS2008/Projects/SliderGdiCtrlLib/SliderGdiCtrlLib/SliderGDICtrl.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SliderGdiCtrlLib</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_slider_g_d_i_ctrl_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">C:/VS2008/Projects/SliderGdiCtrlLib/SliderGdiCtrlLib/SliderGDICtrl.h</div>  </div>
</div>
<div class="contents">
<a href="_slider_g_d_i_ctrl_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">// </span>
<a name="l00003"></a>00003 <span class="comment">// SlidrGDI.h : header file</span>
<a name="l00004"></a>00004 <span class="comment">// Declaration of the classes CTipWnd and CSliderGdiCtrl</span>
<a name="l00005"></a>00005 <span class="comment">// Declaration of the template&lt;typename T&gt; class CSliderCtrlT</span>
<a name="l00006"></a>00006 <span class="comment">// </span>
<a name="l00007"></a>00007 <span class="comment">// Programmer: geoyar</span>
<a name="l00008"></a>00008 <span class="comment">// License: CPOL</span>
<a name="l00009"></a>00009 <span class="comment">// The code is provided &quot;as is&quot; without express or implied warranty.</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">// First version: 04/10/2011</span>
<a name="l00012"></a>00012 <span class="comment">// Last Update:   04/10/2011</span>
<a name="l00013"></a>00013 <span class="comment">//     </span>
<a name="l00015"></a>00015 <span class="comment"></span>
<a name="l00016"></a>00016 <span class="keyword">using namespace </span>std;
<a name="l00017"></a>00017 <span class="keyword">using namespace </span>Gdiplus;
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#pragma once</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span>
<a name="l00021"></a>00021 <span class="keyword">namespace </span>SliderGdi
<a name="l00022"></a>00022 {
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="comment">// This is code from Andrei Alexandresku book &quot;Modern C++ Design&quot;, ch. 2</span>
<a name="l00025"></a>00025 <span class="comment">// Copyright (c) 2001 by Andrei Alexandrescu</span>
<a name="l00026"></a>00026 <span class="comment">// This code accompanies the book:</span>
<a name="l00027"></a>00027 <span class="comment">// Alexandrescu, Andrei. &quot;Modern C++ Design: Generic Programming and Design </span>
<a name="l00028"></a>00028 <span class="comment">//     Patterns Applied&quot;. Copyright (c) 2001. Addison-Wesley.</span>
<a name="l00029"></a>00029 <span class="comment">// Permission to use, copy, modify, distribute and sell this software for any </span>
<a name="l00030"></a>00030 <span class="comment">//     purpose is hereby granted without fee, provided that the above copyright </span>
<a name="l00031"></a>00031 <span class="comment">//     notice appear in all copies and that both that copyright notice and this </span>
<a name="l00032"></a>00032 <span class="comment">//     permission notice appear in supporting documentation.</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">class </span>NullType;
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="comment">// Typelist</span>
<a name="l00037"></a>00037 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> U&gt;
<a name="l00038"></a><a class="code" href="struct_slider_gdi_1_1_type_list.html">00038</a> <span class="keyword">struct </span><a class="code" href="struct_slider_gdi_1_1_type_list.html">TypeList</a>
<a name="l00039"></a>00039 {
<a name="l00040"></a><a class="code" href="struct_slider_gdi_1_1_type_list.html#a1393c0374b80ff1048e239c96bd0b228">00040</a>   <span class="keyword">typedef</span> T <a class="code" href="struct_slider_gdi_1_1_type_list.html#a1393c0374b80ff1048e239c96bd0b228">Head</a>;
<a name="l00041"></a><a class="code" href="struct_slider_gdi_1_1_type_list.html#a67b22c054a51cc0a7bf8fa3413fc7673">00041</a>   <span class="keyword">typedef</span> U <a class="code" href="struct_slider_gdi_1_1_type_list.html#a67b22c054a51cc0a7bf8fa3413fc7673">Tail</a>;
<a name="l00042"></a>00042 };
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#a6a7a6aa3dece450c8d239713e2952df7">00044</a> <span class="preprocessor">#define TYPELIST_1(T1) TypeList&lt;T1, NullType&gt;</span>
<a name="l00045"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#a311cb99af993804c6737ae46c5cbfaff">00045</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPELIST_2(T1, T2) TypeList&lt;T1, TYPELIST_1(T2)&gt;</span>
<a name="l00046"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#a0309f68a543c5c0994f9edc0e56dc59f">00046</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPELIST_3(T1, T2, T3) TypeList&lt;T1, TYPELIST_2(T2, T3)&gt;</span>
<a name="l00047"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#a7a156c571ab21a16b0495e1c882a07fa">00047</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPELIST_4(T1, T2, T3, T4) TypeList&lt;T1, TYPELIST_3(T2, T3, T4)&gt;</span>
<a name="l00048"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#aad5d9b3c82c8503c85c625acd41c0a2f">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPELIST_5(T1, T2, T3, T4, T5) TypeList&lt;T1, TYPELIST_4(T2, T3, T4, T5)&gt;</span>
<a name="l00049"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#ac6f3277dcaade98ceeaa5c0e1c454816">00049</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPELIST_6(T1, T2, T3, T4, T5, T6) TypeList&lt;T1, TYPELIST_5(T2, T3, T4, T5, T6)&gt;</span>
<a name="l00050"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#aeb724ee75c2a90ed93d4eddef2357a8b">00050</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPELIST_7(T1, T2, T3, T4, T5, T6, T7) TypeList&lt;T1, TYPELIST_6(T2, T3, T4, T5, T6, T7)&gt;</span>
<a name="l00051"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#ad828864baaf3cc2505a37b8227c53c20">00051</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPELIST_8(T1, T2, T3, T4, T5, T6, T7, T8) TypeList&lt;T1, TYPELIST_7(T2, T3, T4, T5, T6, T7, T8)&gt;</span>
<a name="l00052"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#ac938e9eedc71479614ff131e99f58f38">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define TYPELIST_9(T1, T2, T3, T4, T5, T6, T7, T8, T9) \</span>
<a name="l00053"></a>00053 <span class="preprocessor">                                                TypeList&lt;T1, TYPELIST_8(T2, T3, T4, T5, T6, T7, T8, T9)&gt;</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 <span class="comment">// IndexOf</span>
<a name="l00056"></a>00056 <span class="keyword">template</span> &lt;<span class="keyword">class</span> TList, <span class="keyword">typename</span> T&gt; <span class="keyword">struct </span>IndexOf;
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; 
<a name="l00059"></a><a class="code" href="struct_slider_gdi_1_1_index_of_3_01_null_type_00_01_t_01_4.html">00059</a> <span class="keyword">struct </span>IndexOf&lt;NullType, T&gt;
<a name="l00060"></a>00060 {
<a name="l00061"></a><a class="code" href="struct_slider_gdi_1_1_index_of_3_01_null_type_00_01_t_01_4.html#a94d8e94b1a64eac11d01289427fb572aae74ec13d39e9fcce9dfc9334553a705a">00061</a>   <span class="keyword">enum</span> { value = -1};
<a name="l00062"></a>00062 };
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="keyword">template</span> &lt;<span class="keyword">class</span> Tail, <span class="keyword">typename</span> T&gt;
<a name="l00065"></a><a class="code" href="struct_slider_gdi_1_1_index_of_3_01_type_list_3_01_t_00_01_tail_01_4_00_01_t_01_4.html">00065</a> <span class="keyword">struct </span>IndexOf&lt;<a class="code" href="struct_slider_gdi_1_1_type_list.html">TypeList</a>&lt;T, Tail&gt;, T&gt;
<a name="l00066"></a>00066 {
<a name="l00067"></a><a class="code" href="struct_slider_gdi_1_1_index_of_3_01_type_list_3_01_t_00_01_tail_01_4_00_01_t_01_4.html#a40ed0d5d0726b303da460ed9630dc280ae215880f52ddaac38231217ba5805acd">00067</a>   <span class="keyword">enum</span> {value = 0};
<a name="l00068"></a>00068 };
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="keyword">template</span> &lt;<span class="keyword">class</span> Head, <span class="keyword">class</span> Tail, <span class="keyword">typename</span> T&gt;
<a name="l00071"></a><a class="code" href="struct_slider_gdi_1_1_index_of_3_01_type_list_3_01_head_00_01_tail_01_4_00_01_t_01_4.html">00071</a> <span class="keyword">struct </span>IndexOf&lt;<a class="code" href="struct_slider_gdi_1_1_type_list.html">TypeList</a>&lt;Head, Tail&gt;, T&gt;
<a name="l00072"></a>00072 {
<a name="l00073"></a>00073 <span class="keyword">private</span>:
<a name="l00074"></a>00074   <span class="keyword">enum</span> {temp = IndexOf&lt;Tail, T&gt;::value};
<a name="l00075"></a>00075 <span class="keyword">public</span>:
<a name="l00076"></a>00076   <span class="keyword">enum</span> {value = temp == -1 ? -1 : 1 +temp};
<a name="l00077"></a>00077 };
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 <span class="comment">// This static assert code is from Loki static_check.h (&lt;int&gt; changed to &lt;bool&gt;</span>
<a name="l00080"></a>00080 <span class="keyword">template</span>&lt;<span class="keywordtype">bool</span>&gt; <span class="keyword">struct </span>CompileTimeError;
<a name="l00081"></a><a class="code" href="struct_slider_gdi_1_1_compile_time_error_3_01true_01_4.html">00081</a> <span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span>CompileTimeError&lt;true&gt; {};
<a name="l00082"></a>00082 
<a name="l00083"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#af0bf8b1b05071c4f755c600f9461b6c5">00083</a> <span class="preprocessor">#define STATIC_CHECK(expr, msg) \</span>
<a name="l00084"></a>00084 <span class="preprocessor">{ CompileTimeError&lt;((expr) != 0)&gt; ERROR_##msg; (void)ERROR_##msg; } </span>
<a name="l00085"></a>00085 <span class="preprocessor"></span>
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 <span class="comment">// End of Andrei&#39;s code</span>
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 <span class="comment">// List of &#39;lega&#39;l PODs</span>
<a name="l00091"></a>00091 <span class="keyword">typedef</span> <a class="code" href="_slider_g_d_i_ctrl_8h.html#ac938e9eedc71479614ff131e99f58f38">TYPELIST_9</a>(byte, <span class="keywordtype">short</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>, <span class="keywordtype">int</span>, <span class="keywordtype">unsigned</span> 
<a name="l00092"></a>00092                     <span class="keywordtype">int</span>, <span class="keywordtype">long</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, <span class="keywordtype">float</span>, <span class="keywordtype">double</span>) SL_TYPELIST;
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <span class="comment">// Global Helper Functions</span>
<a name="l00095"></a>00095   <span class="keywordtype">void</span> <a class="code" href="namespace_slider_gdi.html#a0d059667923380880694416cefa9724b">CreateRoundedRect</a>(GraphicsPath&amp; grPath, RectF&amp; rectF, <span class="keywordtype">float</span> radius);
<a name="l00096"></a>00096   CRect <a class="code" href="namespace_slider_gdi.html#aefc7ae7e7467dfedc9a07710c0ec6a40">RectFToRect</a>(const RectF&amp; rectF);
<a name="l00097"></a>00097   RectF <a class="code" href="namespace_slider_gdi.html#a1a81cbd858f2ae1f098b96722202100b">RectToRectF</a>(const CRect&amp; rect);
<a name="l00098"></a>00098   PointF <a class="code" href="namespace_slider_gdi.html#a6a509724a95c1661cf4fe2493a972a29">GetRectFCenter</a>(const RectF&amp; rectF);
<a name="l00099"></a>00099   CPoint <a class="code" href="namespace_slider_gdi.html#a04b7c0777bb279ee47945ef140dc2f04">PointFToPoint</a>(const PointF&amp; pntF);
<a name="l00100"></a>00100   <span class="keywordtype">double</span> <a class="code" href="namespace_slider_gdi.html#a256f36ed19411fbe07c0fc59453a266e">round_number</a>(const <span class="keywordtype">double</span> val, const <span class="keywordtype">int</span> precision = 0);
<a name="l00101"></a>00101 
<a name="l00103"></a>00103 <span class="comment">// Class CTipWnd</span>
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="class_slider_gdi_1_1_c_tip_wnd.html">00105</a> class <a class="code" href="class_slider_gdi_1_1_c_tip_wnd.html">CTipWnd</a> : public CWnd
<a name="l00106"></a>00106 {
<a name="l00107"></a>00107   DECLARE_DYNAMIC(<a class="code" href="class_slider_gdi_1_1_c_tip_wnd.html">CTipWnd</a>)
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="keyword">public</span>:
<a name="l00110"></a>00110         <a class="code" href="class_slider_gdi_1_1_c_tip_wnd.html">CTipWnd</a>();
<a name="l00111"></a>00111         <span class="keyword">virtual</span> ~<a class="code" href="class_slider_gdi_1_1_c_tip_wnd.html">CTipWnd</a>();
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 <span class="keyword">protected</span>:
<a name="l00114"></a>00114         DECLARE_MESSAGE_MAP()
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="keyword">public</span>:
<a name="l00117"></a>00117   BOOL CreateTipWnd(<span class="keyword">const</span> CRect parentrRect, <span class="keyword">const</span> std::wstring&amp; maxStr, <span class="keywordtype">int</span> strNmb);
<a name="l00118"></a>00118   BOOL RecalcTipWnd(<span class="keyword">const</span> CRect parentRect, <span class="keyword">const</span> std::wstring&amp; maxStr, <span class="keywordtype">int</span> strNmb);
<a name="l00119"></a><a class="code" href="class_slider_gdi_1_1_c_tip_wnd.html#a406648e5f4dd2fb73720fcb0974939f2">00119</a>   <span class="keywordtype">void</span> <a class="code" href="class_slider_gdi_1_1_c_tip_wnd.html#a406648e5f4dd2fb73720fcb0974939f2">CaptionStr</a>(<span class="keyword">const</span> std::wstring&amp; szCaption) { m_szCaption = szCaption; }
<a name="l00120"></a><a class="code" href="class_slider_gdi_1_1_c_tip_wnd.html#af983242bf20405883e2c0717e4b7cf5b">00120</a>   <span class="keywordtype">void</span> <a class="code" href="class_slider_gdi_1_1_c_tip_wnd.html#af983242bf20405883e2c0717e4b7cf5b">ValStr</a>(<span class="keyword">const</span> std::wstring&amp; szValStr) { m_szValStr = szValStr;}
<a name="l00121"></a>00121   <span class="keywordtype">void</span> UpdateTipWnd(<span class="keyword">const</span> std::wstring&amp; szValStr, <span class="keyword">const</span> <span class="keywordtype">float</span> posX, <span class="keywordtype">bool</span> bShow);
<a name="l00122"></a>00122 <span class="keyword">private</span>:
<a name="l00123"></a>00123   CRect SetTipWndRects(Gdiplus::Graphics* grPtr, <span class="keyword">const</span> CRect&amp; parentRect, <span class="keyword">const</span> std::wstring&amp; maxStr,
<a name="l00124"></a>00124                                                                                            <span class="keywordtype">int</span> strNmb);
<a name="l00125"></a>00125   Gdiplus::SizeF GetTextBoxSize(Gdiplus::Graphics* grPtr, <span class="keyword">const</span> <span class="keywordtype">float</span> tipWndWidth, 
<a name="l00126"></a>00126                                                                <span class="keyword">const</span> std::wstring&amp; maxStr, <span class="keywordtype">int</span> strNmb);
<a name="l00127"></a>00127   <span class="keywordtype">void</span> DrawTipWnd(Gdiplus::Graphics* grPtr);
<a name="l00128"></a>00128   <span class="keywordtype">void</span> DrawTipText(Gdiplus::Graphics* grPtr);
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="keyword">private</span>:
<a name="l00131"></a>00131   <span class="keywordtype">bool</span> m_bAbove;                        <span class="comment">// Tip above or below the slider</span>
<a name="l00132"></a>00132   std::wstring m_szCaption;
<a name="l00133"></a>00133   std::wstring m_szValStr;
<a name="l00134"></a>00134   Gdiplus::RectF m_textRectF;
<a name="l00135"></a>00135   Gdiplus::RectF m_tipWndRectF;
<a name="l00136"></a>00136   Gdiplus::PointF m_tipPntF;            <span class="comment">// Balloon tip point</span>
<a name="l00137"></a>00137   Gdiplus::StringFormat m_strFormat;
<a name="l00138"></a>00138   std::wstring m_fontFamilyStr;
<a name="l00139"></a>00139   <span class="keywordtype">float</span> m_fontSize;                     <span class="comment">// Tip point size, in points</span>
<a name="l00140"></a>00140   Gdiplus::SizeF m_textBoxSF;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 <span class="keyword">public</span>:
<a name="l00143"></a>00143   afx_msg <span class="keywordtype">void</span> OnPaint();
<a name="l00144"></a>00144 };
<a name="l00145"></a>00145 
<a name="l00147"></a>00147 <span class="comment">// CSliderGdiCtrl</span>
<a name="l00148"></a>00148 
<a name="l00149"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#aabc8fd86e9fdf722bbaa5f07a5a88e8d">00149</a> <span class="preprocessor">#define MIN_FONTH 8 </span>
<a name="l00150"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#aa5f1cb7dad463b97690b73dfce21638f">00150</a> <span class="preprocessor"></span><span class="preprocessor">#define MAX_FONTH 18</span>
<a name="l00151"></a>00151 <span class="preprocessor"></span>
<a name="l00152"></a>00152 <span class="comment">// Data Label values</span>
<a name="l00153"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#a982139e86ae68aed6921606b5fd03136">00153</a> <span class="preprocessor">#define EMSIZE_WW 0.3f</span>
<a name="l00154"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#a5e18c988f47d0d2c96be924da8bc70a6">00154</a> <span class="preprocessor"></span><span class="preprocessor">#define LAB_W 1.5f</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span>
<a name="l00156"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#ae25d8c95371340a4db7b009a2e84604c">00156</a> <span class="preprocessor">#define LAB_INFLW 2.0f</span>
<a name="l00157"></a><a class="code" href="_slider_g_d_i_ctrl_8h.html#ac6dc2989e828344edfeb6190ad568fe1">00157</a> <span class="preprocessor"></span><span class="preprocessor">#define LAB_INFLH 3.0f</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>
<a name="l00159"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html">00159</a> <span class="keyword">class </span><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html">CSliderGdiCtrl</a> : <span class="keyword">public</span> CWnd
<a name="l00160"></a>00160 {
<a name="l00161"></a>00161         DECLARE_DYNAMIC(<a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html">CSliderGdiCtrl</a>)
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="keyword">public</span>:
<a name="l00164"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#aee86069c10bd85669b39ac8fb5111f85a9cada05d2a61c96470a9977f801f46bc">00164</a>   <span class="keyword">enum</span> <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#aee86069c10bd85669b39ac8fb5111f85">SLIDE_STATUS</a>{ <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#aee86069c10bd85669b39ac8fb5111f85a9cada05d2a61c96470a9977f801f46bc">UNINIT</a>, IDLE, LBTNDOWN, HOVERING};
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 <span class="keyword">public</span>:
<a name="l00167"></a>00167   <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html">CSliderGdiCtrl</a>(<span class="keywordtype">int</span> typeID = IndexOf&lt;SL_TYPELIST, double&gt;::value); 
<a name="l00168"></a>00168 
<a name="l00169"></a>00169         <span class="keyword">virtual</span> ~<a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html">CSliderGdiCtrl</a>();
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 <span class="keyword">public</span>:
<a name="l00172"></a>00172   BOOL CreateSliderGdiCtrl(DWORD dwStyle, <span class="keyword">const</span> CRect slRect, CWnd* pParent, UINT slID);
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 <span class="keyword">private</span>: <span class="comment">// Layout and drawing functions</span>
<a name="l00175"></a>00175   <span class="keywordtype">void</span> InitSliderCtl(Gdiplus::Graphics&amp; gr);
<a name="l00176"></a>00176   <span class="keywordtype">void</span> DrawBar(Gdiplus::Graphics* grPtr, Gdiplus::GraphicsPath&amp; grPath);
<a name="l00177"></a>00177   <span class="keywordtype">void</span> DrawValLabel(Gdiplus::Graphics* grPtr, Gdiplus::GraphicsPath&amp; grPath);
<a name="l00178"></a>00178   <span class="keywordtype">void</span> DrawMoveArea(Gdiplus::Graphics* grPtr, Gdiplus::GraphicsPath&amp; grPath);
<a name="l00179"></a>00179   <span class="keywordtype">void</span> DrawThumb(Gdiplus::Graphics* grPtr, Gdiplus::GraphicsPath&amp; grPath);
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 <span class="comment">// Access functions</span>
<a name="l00182"></a>00182 <span class="keyword">public</span>:
<a name="l00183"></a>00183   <span class="keywordtype">void</span> SetBarColorDefault(<span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>);
<a name="l00184"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a91c5be6c1867d88813f82c447a12f5ee">00184</a>   Gdiplus::Color <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a91c5be6c1867d88813f82c447a12f5ee">BarColor</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_barFirstCol;}
<a name="l00185"></a>00185   <span class="keywordtype">void</span> BarColor(Gdiplus::Color barFirstCol, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>); 
<a name="l00186"></a>00186 
<a name="l00187"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a5c569c3020c8b2e57919ea43d8034418">00187</a>   Gdiplus::StringAlignment <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a5c569c3020c8b2e57919ea43d8034418">GetValStrAlignmentH</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_valStrFormat.GetAlignment();}
<a name="l00188"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a553069aaa0abda6806787bf46bc3c713">00188</a>   Gdiplus::StringAlignment <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a553069aaa0abda6806787bf46bc3c713">GetValStrAlignmentV</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_valStrFormat.GetLineAlignment();}
<a name="l00189"></a>00189   <span class="keywordtype">void</span> SetSliderStrFormat(Gdiplus::StringAlignment chAl, Gdiplus::StringAlignment lineAl, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>);
<a name="l00190"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#abe9e3e7262406a2860feb2aca00b0496">00190</a>   Gdiplus::FontStyle <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#abe9e3e7262406a2860feb2aca00b0496">GetSliderFontStyle</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_fontStyle;}
<a name="l00191"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a613f37cf543587f5c8211770e13f12e4">00191</a>   std::wstring <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a613f37cf543587f5c8211770e13f12e4">GetSliderFontFamilyName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_fontFamilyStr;}
<a name="l00192"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#aaaec2f90c3e29d8fcf7fa5cf42c8ef3b">00192</a>   <span class="keyword">const</span> WCHAR* <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#aaaec2f90c3e29d8fcf7fa5cf42c8ef3b">GetSliderFontFamilyStr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_fontFamilyStr.c_str();}
<a name="l00193"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a96c01709141c1cad4aaeafa535e12165">00193</a>   <span class="keywordtype">float</span> <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a96c01709141c1cad4aaeafa535e12165">GetSliderFontSize</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_emSize;}
<a name="l00194"></a>00194   <span class="keywordtype">void</span> SetSliderFontAttributes(Gdiplus::FontStyle  fontStyle, std::wstring&amp; strFontFamilyName, 
<a name="l00195"></a>00195                                                                                   <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>);
<a name="l00196"></a>00196   <span class="keywordtype">void</span> SetSliderFontAttributes(Gdiplus::FontStyle  fontStyle, WCHAR* strFontFamilyName, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>); 
<a name="l00197"></a>00197 
<a name="l00198"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a3db430bdcf1ab3662a9b53a95aed2f2a">00198</a>   std::wstring <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a3db430bdcf1ab3662a9b53a95aed2f2a">ValString</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_strValue;}   <span class="comment">// Read-only member</span>
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 <span class="keyword">private</span>:
<a name="l00201"></a>00201   <span class="keywordtype">bool</span> IsSliderKeyDown(<span class="keywordtype">void</span>); 
<a name="l00202"></a>00202 
<a name="l00203"></a>00203   <span class="keywordtype">bool</span> ValToPos(<span class="keywordtype">double</span> fVal, <span class="keywordtype">float</span>&amp; fPos);
<a name="l00204"></a>00204   <span class="keywordtype">bool</span> PosToVal(<span class="keywordtype">float</span> fPos, <span class="keywordtype">double</span>&amp; fVal);              <span class="comment">// To raw, not rounded val</span>
<a name="l00205"></a>00205 
<a name="l00206"></a>00206   std::pair&lt;int, int&gt; GetFixedStrLen(<span class="keywordtype">double</span> val, <span class="keywordtype">int</span> precision);
<a name="l00207"></a>00207   std::pair&lt;int, int&gt; GetSciStrLen(<span class="keywordtype">double</span> val, <span class="keywordtype">int</span> precision);
<a name="l00208"></a>00208 
<a name="l00209"></a>00209   <span class="keywordtype">void</span> GetMaxValStr(std::wstring&amp; maxLenStr);
<a name="l00210"></a>00210   <span class="keywordtype">int</span> GetMaxTipStr(std::wstring&amp; maxString);
<a name="l00211"></a>00211   <span class="keywordtype">void</span> GetCombCapValString(std::wstring&amp; comboStr);
<a name="l00212"></a>00212 
<a name="l00213"></a>00213   std::wstring SetValStr(<span class="keywordtype">double</span> val, <span class="keywordtype">bool</span> bRound = <span class="keyword">true</span>);
<a name="l00214"></a>00214 
<a name="l00215"></a>00215   <span class="keywordtype">bool</span> CheckWStrBounds(Gdiplus::Graphics&amp; gr, <span class="keyword">const</span> Gdiplus::RectF&amp; rLayoutF, Gdiplus::RectF&amp; rBoundF, 
<a name="l00216"></a>00216     <span class="keyword">const</span> <span class="keywordtype">float</span> emSize, <span class="keyword">const</span> Gdiplus::FontStyle fStyle, <span class="keyword">const</span> <span class="keywordtype">int</span> lines, <span class="keyword">const</span> std::wstring&amp; str);
<a name="l00217"></a>00217 
<a name="l00218"></a>00218 <span class="comment">// More public access functions</span>
<a name="l00219"></a>00219 <span class="keyword">public</span>:
<a name="l00220"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#aed76aac07f88b992f6a61b5adf512d58">00220</a>   std::wstring <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#aed76aac07f88b992f6a61b5adf512d58">GetCaption</a>() { <span class="keywordflow">return</span> m_strCaption;}
<a name="l00221"></a>00221   <span class="keywordtype">void</span> SetCaption(std::wstring&amp; caption, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>); 
<a name="l00222"></a>00222   <span class="keywordtype">void</span> SetCaption(WCHAR* caption, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>); 
<a name="l00223"></a>00223 <span class="comment">//                              { SetCaption(std::wstring(caption),bRedraw);}</span>
<a name="l00224"></a>00224 
<a name="l00225"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a378a49e12ca18a5dc5721b9339bd11d2">00225</a>   <span class="keywordtype">int</span> <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html#a378a49e12ca18a5dc5721b9339bd11d2">Precision</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_precision;}
<a name="l00226"></a>00226   <span class="keywordtype">bool</span> SetPrecision(<span class="keywordtype">int</span> precision, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>);
<a name="l00227"></a>00227   <span class="keywordtype">double</span> GetKeyStep (<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00228"></a>00228   
<a name="l00229"></a>00229 <span class="comment">// Access to thumb position (value)</span>
<a name="l00230"></a>00230   <span class="keywordtype">double</span> GetCurrValue(<span class="keywordtype">void</span>) <span class="keyword">const</span> ;
<a name="l00231"></a>00231   <span class="keywordtype">bool</span> SetCurrValue(<span class="keywordtype">double</span> value, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>);
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 <span class="comment">// Get min and max vals</span>
<a name="l00234"></a>00234   <span class="keywordtype">double</span> GetMinVal(<span class="keywordtype">void</span>) <span class="keyword">const</span>;   <span class="comment">// Output the rounded min and max values</span>
<a name="l00235"></a>00235   <span class="keywordtype">double</span> GetMaxVal(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00236"></a>00236 
<a name="l00237"></a>00237 <span class="comment">// Set Min and Max values</span>
<a name="l00238"></a>00238   <span class="keywordtype">bool</span> SetMinMaxVal(<span class="keywordtype">double</span> minVal, <span class="keywordtype">double</span> maxVal, <span class="keywordtype">bool</span> bAdjustCurrVal = <span class="keyword">false</span>, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>);
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 <span class="comment">// Helpers</span>
<a name="l00241"></a>00241 <span class="keyword">public</span>:
<a name="l00242"></a>00242 <span class="comment">// Set all init values and check for sanity</span>
<a name="l00243"></a>00243   <span class="keywordtype">bool</span> SetInitVals(<span class="keywordtype">double</span> minVal, <span class="keywordtype">double</span> maxVal, <span class="keywordtype">int</span> precision, <span class="keywordtype">double</span> currVal, 
<a name="l00244"></a>00244                                                                           <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>);
<a name="l00245"></a>00245   <span class="keywordtype">int</span> GetMaxPrecision(<span class="keywordtype">double</span> value) <span class="keyword">const</span>;
<a name="l00246"></a>00246 <span class="keyword">private</span>:
<a name="l00247"></a>00247   <span class="keywordtype">void</span> SetEmSizeLims(Gdiplus::Graphics&amp; grPtr, <span class="keywordtype">int</span> minH, <span class="keywordtype">int</span> maxH);
<a name="l00248"></a>00248   <span class="keywordtype">float</span> CalcEmSize(<span class="keywordtype">float</span> rectH);
<a name="l00249"></a>00249   <span class="keywordtype">float</span> CalcDataLabAndMoveRectsF(Gdiplus::Graphics&amp; gr, <span class="keyword">const</span> Gdiplus::RectF&amp; clRF, 
<a name="l00250"></a>00250                                 Gdiplus::RectF&amp; labRF, Gdiplus::RectF&amp; moveRF);
<a name="l00251"></a>00251   <span class="keywordtype">bool</span> IsThumbCenterVisible(<span class="keywordtype">void</span>);
<a name="l00252"></a>00252   <span class="keywordtype">bool</span> RecalcTipWnd(<span class="keywordtype">void</span>);
<a name="l00253"></a>00253   <span class="keywordtype">void</span> UpdateTipWnd(<span class="keywordtype">bool</span> bShow = <span class="keyword">true</span>);
<a name="l00254"></a>00254   <span class="keywordtype">bool</span> DestroyTipWnd(<span class="keywordtype">void</span>);
<a name="l00255"></a>00255 
<a name="l00256"></a>00256 <span class="keyword">public</span>:
<a name="l00257"></a>00257   <span class="keywordtype">bool</span> IsSliderFullyVisible(<span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy, <span class="keywordtype">int</span> dW, <span class="keywordtype">int</span> dH,CRect* visibleRectPtr);
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 <span class="keyword">protected</span>:
<a name="l00260"></a>00260         DECLARE_MESSAGE_MAP()
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 <span class="comment">// Message Handlers</span>
<a name="l00263"></a>00263 public:
<a name="l00264"></a>00264   LRESULT SendNotification(UINT code = TB_THUMBPOSITION);
<a name="l00265"></a>00265 
<a name="l00266"></a>00266   afx_msg <span class="keywordtype">void</span> OnLButtonDown(UINT nFlags, CPoint point);
<a name="l00267"></a>00267   afx_msg <span class="keywordtype">void</span> OnLButtonUp(UINT nFlags, CPoint point);
<a name="l00268"></a>00268   afx_msg <span class="keywordtype">void</span> OnRButtonDown(UINT nFlags, CPoint point);
<a name="l00269"></a>00269 
<a name="l00270"></a>00270   afx_msg <span class="keywordtype">void</span> OnMouseMove(UINT nFlags, CPoint point);
<a name="l00271"></a>00271   afx_msg LRESULT OnMouseLeave(WPARAM, LPARAM);
<a name="l00272"></a>00272 
<a name="l00273"></a>00273   afx_msg <span class="keywordtype">void</span> OnKeyDown(UINT nChar, UINT nRepCnt, UINT nFlags);
<a name="l00274"></a>00274   afx_msg <span class="keywordtype">void</span> OnKeyUp(UINT nChar, UINT nRepCnt, UINT nFlags);
<a name="l00275"></a>00275   afx_msg <span class="keywordtype">void</span> OnKillFocus(CWnd* pNewWnd);
<a name="l00276"></a>00276 
<a name="l00277"></a>00277   afx_msg <span class="keywordtype">void</span> OnMove(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y);
<a name="l00278"></a>00278   afx_msg <span class="keywordtype">void</span> OnSize(UINT nType, <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy);
<a name="l00279"></a>00279 
<a name="l00280"></a>00280   afx_msg <span class="keywordtype">void</span> OnPaint();
<a name="l00281"></a>00281 
<a name="l00282"></a>00282 private:
<a name="l00283"></a>00283   <span class="keywordtype">float</span> m_maxEmSize;      <span class="comment">// Size of 18-pnt font for given screen</span>
<a name="l00284"></a>00284   <span class="keywordtype">float</span> m_minEmSize;      <span class="comment">// Size of 8-pnt font</span>
<a name="l00285"></a>00285 
<a name="l00286"></a>00286   <span class="keywordtype">int</span> m_typeID;           <span class="comment">// Index of the slider data type: -1 if not supported, </span>
<a name="l00287"></a>00287                           <span class="comment">// 0 -6 for int, 7 for float, 8 for double</span>
<a name="l00288"></a>00288   SLIDE_STATUS m_slStat;  <span class="comment">// For right painting</span>
<a name="l00289"></a>00289   std::wstring m_strCaption; 
<a name="l00290"></a>00290   std::wstring  m_strValue; 
<a name="l00291"></a>00291 
<a name="l00292"></a>00292   <span class="keywordtype">double</span> m_fPosScale;    <span class="comment">// For thumb position to value and vice versa</span>
<a name="l00293"></a>00293   <span class="keywordtype">double</span> m_fMinVal;
<a name="l00294"></a>00294   <span class="keywordtype">double</span> m_fMaxVal;
<a name="l00295"></a>00295   <span class="keywordtype">double</span> m_fCurrValue;
<a name="l00296"></a>00296 
<a name="l00297"></a>00297 <span class="comment">// Slider geometry  </span>
<a name="l00298"></a>00298   Gdiplus::RectF m_rBarF;       <span class="comment">// Slider window rect</span>
<a name="l00299"></a>00299   Gdiplus::RectF m_rValLabelF;  <span class="comment">// Data label</span>
<a name="l00300"></a>00300   Gdiplus::RectF m_rSelectF;    <span class="comment">// Range of position of the thumb&#39;s center</span>
<a name="l00301"></a>00301   Gdiplus::RectF m_rThumbF;     <span class="comment">// Thumb rect</span>
<a name="l00302"></a>00302   Gdiplus::RectF m_rMoveF;      <span class="comment">// Range the thumb is moving in</span>
<a name="l00303"></a>00303 
<a name="l00304"></a>00304   Gdiplus::Color m_barFirstCol; <span class="comment">// First color of the bar&#39;s linear brush</span>
<a name="l00305"></a>00305 
<a name="l00306"></a>00306 <span class="comment">// String related members</span>
<a name="l00307"></a>00307   Gdiplus::StringFormat m_valStrFormat;
<a name="l00308"></a>00308   Gdiplus::FontStyle m_fontStyle;
<a name="l00309"></a>00309   std::wstring m_fontFamilyStr;
<a name="l00310"></a>00310   <span class="keywordtype">float</span> m_emSize;
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 <span class="comment">// Flag for WM_MOUSELEAVE</span>
<a name="l00313"></a>00313   BOOL m_bMouseTracking;
<a name="l00314"></a>00314   <span class="keywordtype">int</span> m_precision;              <span class="comment">// Number of digits right of floating point</span>
<a name="l00315"></a>00315                                 <span class="comment">// if positive; left non-significant digit (zeros) if negative</span>
<a name="l00316"></a>00316   <span class="keywordtype">int</span> m_digitNmb;               <span class="comment">// Number of significant digits, defines range of precision </span>
<a name="l00317"></a>00317   <a class="code" href="class_slider_gdi_1_1_c_tip_wnd.html">CTipWnd</a>* m_tipWndPtr;         <span class="comment">// Pointer to the popup tip window </span>
<a name="l00318"></a>00318 
<a name="l00319"></a>00319 };
<a name="l00320"></a>00320 
<a name="l00322"></a>00322 <span class="comment">// Class CSliderGdiCtrlT - templated wrapper for CSliderGdiCtrl</span>
<a name="l00323"></a>00323 
<a name="l00324"></a>00324 template &lt;typename T&gt;
<a name="l00325"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html">00325</a> class <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html">CSliderGdiCtrlT</a>:public <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl.html">CSliderGdiCtrl</a>
<a name="l00326"></a>00326 {
<a name="l00327"></a>00327 <span class="keyword">public</span>:
<a name="l00328"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#abe9c07482d631e3e66c94e49277cfd7f">00328</a>   <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#abe9c07482d631e3e66c94e49277cfd7f">CSliderGdiCtrlT</a>(<span class="keywordtype">void</span>):CSliderGdiCtrl(IndexOf&lt;SL_TYPELIST, T&gt;::value) {}
<a name="l00329"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#af258a7a49d9626cd31c6836b4ea607fa">00329</a>   <span class="keyword">virtual</span> <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#af258a7a49d9626cd31c6836b4ea607fa">~CSliderGdiCtrlT</a>() {}
<a name="l00330"></a>00330 
<a name="l00331"></a>00331 <span class="keyword">public</span>:
<a name="l00332"></a>00332   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> U&gt;
<a name="l00333"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#a2de5c5cd4ff12f31317436c8126fd016">00333</a>   <span class="keywordtype">bool</span> <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#a2de5c5cd4ff12f31317436c8126fd016">IsRightSlType</a>(<span class="keywordtype">void</span> )<span class="keyword"> const </span>{<span class="keywordflow">return</span> (m_typeID == IndexOf&lt;SL_TYPELIST, U&gt;::value);}
<a name="l00334"></a>00334 
<a name="l00335"></a>00335 <span class="comment">// Access to m_fCurrValue of CSliderGdiCtlr</span>
<a name="l00336"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#a624f39b1260a710a1fb156239af70a55">00336</a>    T <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#a624f39b1260a710a1fb156239af70a55">GetCurrValue</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(CSliderGdiCtrl::GetCurrValue());}
<a name="l00337"></a>00337 
<a name="l00338"></a>00338 <span class="comment">// Set Curr Value - always clip value out of range max - min to max or min; return false if </span>
<a name="l00339"></a>00339 <span class="comment">// value was clipped </span>
<a name="l00340"></a>00340   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1&gt;
<a name="l00341"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#a0ae0adc01109c7db9526928dcb693394">00341</a>   <span class="keywordtype">bool</span> SetCurrValue(T1 value, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>) 
<a name="l00342"></a>00342   { 
<a name="l00343"></a>00343     <a class="code" href="_slider_g_d_i_ctrl_8h.html#af0bf8b1b05071c4f755c600f9461b6c5">STATIC_CHECK</a>((IndexOf&lt;SL_TYPELIST, T&gt;::value == IndexOf&lt;SL_TYPELIST, T1&gt;::value), SetCurrValue);
<a name="l00344"></a>00344 
<a name="l00345"></a>00345     <span class="keywordflow">return</span> CSliderGdiCtrl::SetCurrValue(value, bRedraw);
<a name="l00346"></a>00346   }
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 <span class="comment">// Get min and max vals</span>
<a name="l00349"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#ad8fcae95b51b1978709b1fc39ce5136c">00349</a>   T <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#ad8fcae95b51b1978709b1fc39ce5136c">GetMinVal</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(CSliderGdiCtrl::GetMinVal());}
<a name="l00350"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#afaf134d340d296ec0f6fc4fd0c139a51">00350</a>   T <a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#afaf134d340d296ec0f6fc4fd0c139a51">GetMaxVal</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(CSliderGdiCtrl::GetMaxVal());}
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 <span class="comment">// Set Min and Max values (Changes nothing and returns false if constraints on min </span>
<a name="l00353"></a>00353 <span class="comment">//                         and max are violated or bAdjustCurrVal = false</span>
<a name="l00354"></a>00354 <span class="comment">//                         and m_currValue is out of new selection range. Throws a </span>
<a name="l00355"></a>00355 <span class="comment">//                         compile time assert if T1 and/or T2 are different from T) </span>
<a name="l00356"></a>00356   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;
<a name="l00357"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#aab4a4d88db3e8cdbff36e9215535c993">00357</a>   <span class="keywordtype">bool</span> SetMinMaxVal(T1 minVal, T2 maxVal, <span class="keywordtype">bool</span> bAdjustCurrVal = <span class="keyword">false</span>, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>)
<a name="l00358"></a>00358   { 
<a name="l00359"></a>00359     <a class="code" href="_slider_g_d_i_ctrl_8h.html#af0bf8b1b05071c4f755c600f9461b6c5">STATIC_CHECK</a>(((IndexOf&lt;SL_TYPELIST, T&gt;::value == IndexOf&lt;SL_TYPELIST, T1&gt;::value)&amp;&amp;
<a name="l00360"></a>00360         (IndexOf&lt;SL_TYPELIST, T&gt;::value == IndexOf&lt;SL_TYPELIST, T2&gt;::value)), 
<a name="l00361"></a>00361          Wrong_Argument_Types_In_SetMinMaxVal);
<a name="l00362"></a>00362 
<a name="l00363"></a>00363     <span class="keywordflow">return</span> CSliderGdiCtrl::SetMinMaxVal(minVal, maxVal, bAdjustCurrVal, bRedraw);
<a name="l00364"></a>00364   }
<a name="l00365"></a>00365 <span class="comment">// Throws a compile time assert if any of T1, T2, and T3 types is not T.</span>
<a name="l00366"></a>00366 <span class="comment">//  Changes nothing and returns false if any of constraints on params are violated</span>
<a name="l00367"></a>00367   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2, <span class="keyword">typename</span> T3&gt;
<a name="l00368"></a><a class="code" href="class_slider_gdi_1_1_c_slider_gdi_ctrl_t.html#a5423a22e517e6908e91d27c585ebb993">00368</a>   <span class="keywordtype">bool</span> SetInitVals(T1 minVal, T2 maxVal, <span class="keywordtype">int</span> precision, T3 currVal, <span class="keywordtype">bool</span> bRedraw = <span class="keyword">false</span>)
<a name="l00369"></a>00369   { 
<a name="l00370"></a>00370     <a class="code" href="_slider_g_d_i_ctrl_8h.html#af0bf8b1b05071c4f755c600f9461b6c5">STATIC_CHECK</a>(((IndexOf&lt;SL_TYPELIST, T&gt;::value == IndexOf&lt;SL_TYPELIST, T1&gt;::value)&amp;&amp;
<a name="l00371"></a>00371                        (IndexOf&lt;SL_TYPELIST, T&gt;::value == IndexOf&lt;SL_TYPELIST, T2&gt;::value) &amp;&amp;
<a name="l00372"></a>00372                        (IndexOf&lt;SL_TYPELIST, T&gt;::value == IndexOf&lt;SL_TYPELIST, T3&gt;::value)), 
<a name="l00373"></a>00373                         Wrong_Argument_Types_In_SetInitVals);
<a name="l00374"></a>00374 
<a name="l00375"></a>00375     <span class="keywordflow">return</span> CSliderGdiCtrl::SetInitVals(minVal, maxVal, precision, currVal, bRedraw);
<a name="l00376"></a>00376   }
<a name="l00377"></a>00377 };
<a name="l00378"></a>00378 
<a name="l00379"></a>00379 } <span class="comment">// End namespace SliderGdi</span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_slider_g_d_i_ctrl_8h.html">SliderGDICtrl.h</a>      </li>
      <li class="footer">Generated on Mon Apr 11 2011 16:43:24 for SliderGdiCtrlLib by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
